commit bcf5e1bce603b3bf4b6083763377789c3d7faa2d
Merge: 44c042b8 75854fc4
Author: Liam Wezenbeek <44083357+lwezenbe@users.noreply.github.com>
Date:   Wed Jun 30 17:20:37 2021 +0200

    Merge branch 'UL_master' into UL_master
diff --git a/multilep/test/testing/Autumn18MiniAOD-ref.root b/multilep/test/testing/Autumn18MiniAOD-ref.root
deleted file mode 100644
index b1cc2037..00000000
Binary files a/multilep/test/testing/Autumn18MiniAOD-ref.root and /dev/null differ
diff --git a/multilep/test/testing/Fall17MiniAODv2-ref.root b/multilep/test/testing/Fall17MiniAODv2-ref.root
deleted file mode 100644
index fe43b7c7..00000000
Binary files a/multilep/test/testing/Fall17MiniAODv2-ref.root and /dev/null differ
diff --git a/multilep/test/testing/Run2016-17Jul2018-ref.root b/multilep/test/testing/Run2016-17Jul2018-ref.root
deleted file mode 100644
index c522e912..00000000
Binary files a/multilep/test/testing/Run2016-17Jul2018-ref.root and /dev/null differ
diff --git a/multilep/test/testing/Run2017-31March2017-ref.root b/multilep/test/testing/Run2017-31March2017-ref.root
deleted file mode 100644
index de1de71d..00000000
Binary files a/multilep/test/testing/Run2017-31March2017-ref.root and /dev/null differ
diff --git a/multilep/test/testing/Run2018-17Sep2018-ref.root b/multilep/test/testing/Run2018-17Sep2018-ref.root
deleted file mode 100644
index 126fc794..00000000
Binary files a/multilep/test/testing/Run2018-17Sep2018-ref.root and /dev/null differ
diff --git a/multilep/test/testing/Run2018-PromptReco-ref.root b/multilep/test/testing/Run2018-PromptReco-ref.root
deleted file mode 100644
index 1ecbb6da..00000000
Binary files a/multilep/test/testing/Run2018-PromptReco-ref.root and /dev/null differ
diff --git a/multilep/test/testing/Summer16MiniAODv3-ref.root b/multilep/test/testing/Summer16MiniAODv3-ref.root
deleted file mode 100644
index c7c84dfb..00000000
Binary files a/multilep/test/testing/Summer16MiniAODv3-ref.root and /dev/null differ
diff --git a/multilep/test/testing/runTests.py b/multilep/test/testing/runTests.py
index d242e553..0503b847 100755
--- a/multilep/test/testing/runTests.py
+++ b/multilep/test/testing/runTests.py
@@ -54,7 +54,7 @@ with open('tests.log', 'w') as logFile:
 
   def runTest(name, testFile):
     logFile.write('\n--------------------------------------------------------------------------------------------------\n\n')
-    command = 'eval `scram runtime -sh`;cmsRun ../multilep.py inputFile=' + testFile + ' outputFile=noskim.root events=100 extraContent=storeLheParticles,storeParticleLevel'
+    command = 'eval `scram runtime -sh`;cmsRun ../multilep.py inputFile=' + testFile + ' outputFile=noskim.root events=100 extraContent=storeLheParticles,storeParticleLevel,storeAllTauID,storeJecSources'
     logFile.write('Running test: ' + name)
     try:
       system(command)
@@ -71,16 +71,17 @@ with open('tests.log', 'w') as logFile:
         logFile.write('   ' + line + '\n')
 
   # Tests files to run
-  if('lxplus' in os.environ['HOSTNAME']): testFileLocation = '/eos/user/t/tomc/testFiles' 
-  else:                                   testFileLocation = '/pnfs/iihe/cms/store/user/tomc/heavyNeutrino/testFiles/'
+  if('lxplus' in os.environ['HOSTNAME']): testFileLocation = '/eos/user/t/lwezenbe/testFiles' 
+  else:                                   testFileLocation = '/pnfs/iihe/cms/store/user/lwezenbe/heavyNeutrino/testFiles/'
 
-  runTest('Run2018-17Sep2018',    'file://' + testFileLocation + '/store/data/Run2018A/SingleMuon/MINIAOD/17Sep2018-v2/100000/42EFAC9D-DC91-DB47-B931-B6B816C60C21.root')
-  runTest('Run2018-PromptReco',   'file://' + testFileLocation + '/store/data/Run2018A/SingleMuon/MINIAOD/PromptReco-v3/000/316/569/00000/0085320B-4E64-E811-A2D3-FA163E2A55D6.root')
-  runTest('Run2017-31March2017',  'file://' + testFileLocation + '/store/data/Run2017C/DoubleEG/MINIAOD/31Mar2018-v1/00002/58841328-4838-E811-AC6D-00266CFFCAC0.root')
-  runTest('Run2016-17Jul2018',    'file://' + testFileLocation + '/store/data/Run2016H/DoubleEG/MINIAOD/17Jul2018-v1/80000/B8EE4064-968D-E811-B077-0242AC1C0500.root')
-  runTest('Autumn18MiniAOD',      'file://' + testFileLocation + '/store/mc/RunIIAutumn18MiniAOD/ZGToLLG_01J_5f_TuneCP5_13TeV-amcatnloFXFX-pythia8/MINIAODSIM/102X_upgrade2018_realistic_v15_ext1-v2/110000/00707922-8E6F-3042-A709-2DD4DB9AEDED.root')
-  runTest('Fall17MiniAODv2',      'file://' + testFileLocation + '/store/mc/RunIIFall17MiniAODv2/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/MINIAODSIM/PU2017RECOPF_12Apr2018_94X_mc2017_realistic_v14-v1/10000/0A1754A2-256F-E811-AD07-6CC2173CAAE0.root')
-  runTest('Summer16MiniAODv3',    'file://' + testFileLocation + '/store/mc/RunIISummer16MiniAODv3/DYJetsToLL_M-105To160_TuneCUETP8M1_13TeV-amcatnloFXFX-pythia8/MINIAODSIM/PUMoriond17_94X_mcRun2_asymptotic_v3_ext1-v1/00000/2E242480-5C0D-E911-B9A6-90E2BACBAA90.root')
+  runTest('12Nov2019_UL2018',             'file://' + testFileLocation + '/store/data/Run2018C/SingleMuon/MINIAOD/12Nov2019_UL2018-v2/100000/08CD0000-EAC8-844F-96C6-A02E7F742007.root')
+  runTest('09Aug2019_UL2017',             'file://' + testFileLocation + '/store/data/Run2017D/SingleElectron/MINIAOD/09Aug2019_UL2017-v1/260000/00A5C633-1806-0844-8D65-C31C779A57F6.root')
+  runTest('21Feb2020_UL2016',             'file://' + testFileLocation + '/store/data/Run2016G/DoubleMuon/MINIAOD/21Feb2020_UL2016-v1/230000/0494EFE4-63FD-2448-8E9E-D7C2E5C1E1BE.root')
+  runTest('21Feb2020_UL2016_HIPM',        'file://' + testFileLocation + '/store/data/Run2016D/DoubleMuon/MINIAOD/21Feb2020_UL2016_HIPM-v1/230000/0CA8DB06-DE75-4240-8DD1-BF576E8BCFD5.root')
+  runTest('RunIISummer20UL18MiniAOD',     'file://' + testFileLocation + '/store/mc/RunIISummer20UL18MiniAOD/ZGToLLG_01J_5f_TuneCP5_13TeV-amcatnloFXFX-pythia8/MINIAODSIM/106X_upgrade2018_realistic_v11_L1v1-v1/280000/02D2BCCD-2F6F-0240-96CB-4C9D2525A3C4.root')
+  runTest('RunIISummer20UL17MiniAOD',     'file://' + testFileLocation + '/store/mc/RunIISummer20UL17MiniAOD/DYJetsToLL_M-50_TuneCP5_13TeV-madgraphMLM-pythia8/MINIAODSIM/106X_mc2017_realistic_v6-v1/280000/00E313D4-661C-D54E-86BD-25ABCE7639C5.root')
+  runTest('RunIISummer20UL16MiniAOD',     'file://' + testFileLocation + '/store/mc/RunIISummer20UL16MiniAOD/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/MINIAODSIM/106X_mcRun2_asymptotic_v13-v2/260000/003F1A76-9CDA-7644-A34E-923C4B1C0E5E.root')
+  runTest('RunIISummer20UL16MiniAODAPV',  'file://' + testFileLocation + '/store/mc/RunIISummer20UL16MiniAODAPV/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/MINIAODSIM/106X_mcRun2_asymptotic_preVFP_v8-v1/270000/00974EBB-A8B3-4241-80C3-08C750C5838A.root')
 
 if doCommit:
   system('git add *ref.root')

--------------------------------------------------------------------------------------------------

Running test: 12Nov2019_UL2018 --> OK
   Changed:
      _tauDeepTauVsJetsRaw                               mean:   0.9789 -->   4.8608     rms:   0.1437 -->  26.2985    
      _tauLooseDeepTauVsJets                             mean:   0.4304 -->   4.4810     rms:   0.4951 -->  27.5331    

--------------------------------------------------------------------------------------------------

Running test: 09Aug2019_UL2017 --> OK
   Changed:
      _tauDeepTauMuRaw                                   mean:   0.9398 -->   6.9583     rms:   0.2378 -->  23.5451    
      _tauDeepTauVsEleRaw                                mean:   0.9398 -->   7.9213     rms:   0.2378 -->  27.3504    
      _tauDeepTauVsJetsRaw                               mean:   0.9398 -->   5.7546     rms:   0.2378 -->  18.7885    
      _tauLooseDeepTauVsJets                             mean:   0.3009 -->  15.4074     rms:   0.4587 -->  59.6208    

--------------------------------------------------------------------------------------------------

Running test: 21Feb2020_UL2016 --> OK
   Changed:
      _tauLooseDeepTauVsJets                             mean:   0.2042 -->   0.2641     rms:   0.4031 -->   0.4408    

--------------------------------------------------------------------------------------------------

Running test: 21Feb2020_UL2016_HIPM --> OK
   Changed:
      _tauDeepTauMuRaw                                   mean:   0.9520 -->   2.1520     rms:   0.2138 -->   5.6851    
      _tauDeepTauVsJetsRaw                               mean:   9.4640 -->   0.9520     rms:  37.8353 -->   0.2138    
      _tauLooseDeepTauVsEle                              mean:   0.4120 -->   6.7880     rms:   0.4922 -->  28.3127    
      _tauLooseDeepTauVsJets                             mean:   3.8600 -->   1.4840     rms:  16.3810 -->   5.6358    

--------------------------------------------------------------------------------------------------

Running test: RunIISummer20UL18MiniAOD --> OK

--------------------------------------------------------------------------------------------------

Running test: RunIISummer20UL17MiniAOD --> OK

--------------------------------------------------------------------------------------------------

Running test: RunIISummer20UL16MiniAOD --> OK

--------------------------------------------------------------------------------------------------

Running test: RunIISummer20UL16MiniAODAPV --> OK
